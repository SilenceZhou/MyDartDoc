<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the markNeedsBuild method from the Element class, for the Dart programming language.">
  <title>markNeedsBuild method - Element class - widgets library - Dart API</title>
  <!-- required because all the links are pseudo-absolute -->
  <base href="../..">

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500,400i,400,300|Source+Sans+Pro:400,300,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="static-assets/github.css">
  <link rel="stylesheet" href="static-assets/styles.css">
  <link rel="icon" href="static-assets/favicon.png">
  
</head>

<body>

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="index.html">flutter</a></li>
    <li><a href="widgets/widgets-library.html">widgets</a></li>
    <li><a href="widgets/Element-class.html">Element</a></li>
    <li class="self-crumb">markNeedsBuild method</li>
  </ol>
  <div class="self-name">markNeedsBuild</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>

  <div id="dartdoc-sidebar-left" class="col-xs-6 col-sm-3 col-md-2 sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
      <form class="search-sidebar" role="search">
        <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
      </form>
    </header>
    
    <ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
      <li><a href="index.html">flutter</a></li>
      <li><a href="widgets/widgets-library.html">widgets</a></li>
      <li><a href="widgets/Element-class.html">Element</a></li>
      <li class="self-crumb">markNeedsBuild method</li>
    </ol>
    
    <h5>Element class</h5>
    <ol>
      <li class="section-title"><a href="widgets/Element-class.html#constructors">Constructors</a></li>
      <li><a href="widgets/Element/Element.html">Element</a></li>
    
      <li class="section-title">
        <a href="widgets/Element-class.html#instance-properties">Properties</a>
      </li>
      <li><a href="widgets/Element/depth.html">depth</a></li>
      <li><a href="widgets/Element/dirty.html">dirty</a></li>
      <li><a href="widgets/Element/hashCode.html">hashCode</a></li>
      <li><a href="widgets/Element/owner.html">owner</a></li>
      <li><a href="widgets/Element/renderObject.html">renderObject</a></li>
      <li><a href="widgets/Element/size.html">size</a></li>
      <li><a href="widgets/Element/slot.html">slot</a></li>
      <li><a href="widgets/Element/widget.html">widget</a></li>
      <li class="inherited"><a href="dart-core/Object/runtimeType.html">runtimeType</a></li>
    
      <li class="section-title"><a href="widgets/Element-class.html#instance-methods">Methods</a></li>
      <li><a href="widgets/Element/activate.html">activate</a></li>
      <li><a href="widgets/Element/ancestorInheritedElementForWidgetOfExactType.html">ancestorInheritedElementForWidgetOfExactType</a></li>
      <li><a href="widgets/Element/ancestorRenderObjectOfType.html">ancestorRenderObjectOfType</a></li>
      <li><a href="widgets/Element/ancestorStateOfType.html">ancestorStateOfType</a></li>
      <li><a href="widgets/Element/ancestorWidgetOfExactType.html">ancestorWidgetOfExactType</a></li>
      <li><a href="widgets/Element/attachRenderObject.html">attachRenderObject</a></li>
      <li><a href="widgets/Element/deactivate.html">deactivate</a></li>
      <li><a href="widgets/Element/deactivateChild.html">deactivateChild</a></li>
      <li><a href="widgets/Element/debugDeactivated.html">debugDeactivated</a></li>
      <li><a href="widgets/Element/debugDescribeChildren.html">debugDescribeChildren</a></li>
      <li><a href="widgets/Element/debugFillProperties.html">debugFillProperties</a></li>
      <li><a href="widgets/Element/debugGetCreatorChain.html">debugGetCreatorChain</a></li>
      <li><a href="widgets/Element/debugGetDiagnosticChain.html">debugGetDiagnosticChain</a></li>
      <li><a href="widgets/Element/debugVisitOnstageChildren.html">debugVisitOnstageChildren</a></li>
      <li><a href="widgets/Element/detachRenderObject.html">detachRenderObject</a></li>
      <li><a href="widgets/Element/didChangeDependencies.html">didChangeDependencies</a></li>
      <li><a href="widgets/Element/findRenderObject.html">findRenderObject</a></li>
      <li><a href="widgets/Element/forgetChild.html">forgetChild</a></li>
      <li><a href="widgets/Element/inflateWidget.html">inflateWidget</a></li>
      <li><a href="widgets/Element/inheritFromElement.html">inheritFromElement</a></li>
      <li><a href="widgets/Element/inheritFromWidgetOfExactType.html">inheritFromWidgetOfExactType</a></li>
      <li><a href="widgets/Element/markNeedsBuild.html">markNeedsBuild</a></li>
      <li><a href="widgets/Element/mount.html">mount</a></li>
      <li><a href="widgets/Element/performRebuild.html">performRebuild</a></li>
      <li><a href="widgets/Element/reassemble.html">reassemble</a></li>
      <li><a href="widgets/Element/rebuild.html">rebuild</a></li>
      <li><a href="widgets/Element/rootAncestorStateOfType.html">rootAncestorStateOfType</a></li>
      <li><a href="widgets/Element/toStringShort.html">toStringShort</a></li>
      <li><a href="widgets/Element/unmount.html">unmount</a></li>
      <li><a href="widgets/Element/update.html">update</a></li>
      <li><a href="widgets/Element/updateChild.html">updateChild</a></li>
      <li><a href="widgets/Element/updateSlotForChild.html">updateSlotForChild</a></li>
      <li><a href="widgets/Element/visitAncestorElements.html">visitAncestorElements</a></li>
      <li><a href="widgets/Element/visitChildElements.html">visitChildElements</a></li>
      <li><a href="widgets/Element/visitChildren.html">visitChildren</a></li>
      <li class="inherited"><a href="dart-core/Object/noSuchMethod.html">noSuchMethod</a></li>
      <li class="inherited"><a href="foundation/DiagnosticableTree/toDiagnosticsNode.html">toDiagnosticsNode</a></li>
      <li class="inherited"><a href="foundation/Diagnosticable/toString.html">toString</a></li>
      <li class="inherited"><a href="foundation/DiagnosticableTree/toStringDeep.html">toStringDeep</a></li>
      <li class="inherited"><a href="foundation/DiagnosticableTree/toStringShallow.html">toStringShallow</a></li>
    
      <li class="section-title"><a href="widgets/Element-class.html#operators">Operators</a></li>
      <li><a href="widgets/Element/operator_equals.html">operator ==</a></li>
    
    
    
    </ol>
  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-main-content" class="col-xs-12 col-sm-9 col-md-8 main-content">
      <div><h1>markNeedsBuild method</h1></div>

    <section class="multi-line-signature">
      <span class="returntype">void</span>
            <span class="name ">markNeedsBuild</span>
(<wbr>)
      
    </section>
    <section class="desc markdown">
      <p>Marks the element as dirty and adds it to the global list of widgets to
rebuild in the next frame.</p>
<p>Since it is inefficient to build an element twice in one frame,
applications and widgets should be structured so as to only mark
widgets dirty during event handlers before the frame begins, not during
the build itself.</p>
    </section>
    
    <section class="summary source-code" id="source">
      <h2><span>Implementation</span></h2>
      <pre class="language-dart"><code class="language-dart">void markNeedsBuild() {
  assert(_debugLifecycleState != _ElementLifecycle.defunct);
  if (!_active)
    return;
  assert(owner != null);
  assert(_debugLifecycleState == _ElementLifecycle.active);
  assert(() {
    if (owner._debugBuilding) {
      assert(owner._debugCurrentBuildTarget != null);
      assert(owner._debugStateLocked);
      if (_debugIsInScope(owner._debugCurrentBuildTarget))
        return true;
      if (!_debugAllowIgnoredCallsToMarkNeedsBuild) {
        throw FlutterError(
          &#39;setState() or markNeedsBuild() called during build.\n&#39;
          &#39;This ${widget.runtimeType} widget cannot be marked as needing to build because the framework &#39;
          &#39;is already in the process of building widgets. A widget can be marked as &#39;
          &#39;needing to be built during the build phase only if one of its ancestors &#39;
          &#39;is currently building. This exception is allowed because the framework &#39;
          &#39;builds parent widgets before children, which means a dirty descendant &#39;
          &#39;will always be built. Otherwise, the framework might not visit this &#39;
          &#39;widget during this build phase.\n&#39;
          &#39;The widget on which setState() or markNeedsBuild() was called was:\n&#39;
          &#39;  $this\n&#39;
          &#39;${owner._debugCurrentBuildTarget == null ? &quot;&quot; : &quot;The widget which was currently being built when the offending call was made was:\n  ${owner._debugCurrentBuildTarget}&quot;}&#39;
        );
      }
      assert(dirty); &#47;&#47; can only get here if we&#39;re not in scope, but ignored calls are allowed, and our call would somehow be ignored (since we&#39;re already dirty)
    } else if (owner._debugStateLocked) {
      assert(!_debugAllowIgnoredCallsToMarkNeedsBuild);
      throw FlutterError(
        &#39;setState() or markNeedsBuild() called when widget tree was locked.\n&#39;
        &#39;This ${widget.runtimeType} widget cannot be marked as needing to build &#39;
        &#39;because the framework is locked.\n&#39;
        &#39;The widget on which setState() or markNeedsBuild() was called was:\n&#39;
        &#39;  $this\n&#39;
      );
    }
    return true;
  }());
  if (dirty)
    return;
  _dirty = true;
  owner.scheduleBuildFor(this);
}</code></pre>
    </section>

  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-right" class="col-xs-6 col-sm-6 col-md-2 sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    flutter 0.0.0-unknown
  </span>

  
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="static-assets/typeahead.bundle.min.js"></script>
<script src="static-assets/highlight.pack.js"></script>
<script src="static-assets/URI.js"></script>
<script src="static-assets/script.js"></script>


</body>

</html>
